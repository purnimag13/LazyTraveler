<?xml version="1.0" encoding="UTF-8"?>
<!--
Created by Tara Laughlin on 2018.11.26 
Copyright Â© 2018 Tara Laughlin. All rights reserved.
-->
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:composition template="/template/siteTemplate.xhtml">
        <ui:define name="editableContent">
            <h:head>
                <title>Trip Details</title>

                <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet"/>
                <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            </h:head>
            <body>
                <center><h:outputText class="trip-title" value="#{searchController.selected.name}"> </h:outputText></center>

                <div>
                    <p:graphicImage value="#{searchController.selected.photos.get(0)}" 
                                    style="width:400px;height:400px"></p:graphicImage>
                    <div class="flight">
                        <div style="font-family: 'Montserrat', sans-serif">
                            <div>
                                <h2>Flight Information</h2>

                            </div>
                        </div>
                        <div class="flight-info">
                            <span > Depart: 7:05 am - 11:39 am&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;7h 34m (1 stop)</span>
                            <span style="font-size: 12px"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Delta&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;IAD - 39m in ATL Layover - LAX</span>
                            <span style=""> Return: 11:35 pm - 9:11 am &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;6h 36m (1 stop) </span>
                            <span style="font-size: 12px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Delta&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LAX - 48m in ATL Layover- IAD</span>

                        </div>
                    </div>
                </div>
                <div class="data">
                    <p:dataList id="data1" value="#{searchController.getTripFood(searchController.selected)}" var="item"
                                paginator="true"
                                rows="5"
                                rowsPerPageTemplate="5,10,15,20"
                                class="left"> 
                        <f:facet name="header">Restaurant Choices</f:facet>
                        <h:outputText value="#{item.name}"> </h:outputText>
                    </p:dataList>
                    <p:dataList id="data2" value="#{searchController.getTripHotel(searchController.selected)}" var="item"
                                paginator="true"
                                rows="5"
                                rowsPerPageTemplate="5,10,15,20"
                                class="right"> 
                        <f:facet name="header">Hotel Choices</f:facet>
                        <h:outputText value="#{item.name}"> </h:outputText>
                    </p:dataList>
                    <p:dataList id="data3" value="#{flightDataManager.findFlights(flightDataManager.inboundDate, flightDataManager.outboundDate,
                                                    searchController.selected, flightDataManager.startLocation)}" var="item"
                                paginator="true"
                                rows="5"
                                rowsPerPageTemplate="5,10,15,20"
                                class="right"> 
                        <f:facet name="header">Hotel Choices</f:facet>
                        <h:outputText value="#{item.name}"> </h:outputText>
                    </p:dataList>
                </div>
                <h:form id="ShareForm">
                    <c:if test="#{userController.isLoggedIn() == true}">
                        <p:commandButton id="shareButton" icon="fas fa-save"  value="Save" 
                                         action="#{savedTripsController.saveTrip(searchController.selected.name, searchController.selected.foodList)}" 
                                         update="data1,:growlInfoMessage,:growlWarningMessage,:growlErrorMessage,:growlFatalMessage" 
                                         >

                            <p:confirm header="Share Confirmation" 
                                       message="Are you sure you want to add the selected to Signed In User's List of Favorite Youtube Videos?" 
                                       icon="fas fa-exclamation-triangle fa-2x" />
                        </p:commandButton>
                    </c:if>
                </h:form>

            </body>
        </ui:define>
    </ui:composition>
</html>
